<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>UNIFI API configuration • arcMS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="UNIFI API configuration">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">arcMS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/api-configuration.html">UNIFI API configuration</a></li>
    <li><a class="dropdown-item" href="../articles/collect-save-functions.html">Collect and Save functions</a></li>
    <li><a class="dropdown-item" href="../articles/get-ccs-values.html">Get CCS values</a></li>
    <li><a class="dropdown-item" href="../articles/open-files.html">Open Parquet files</a></li>
    <li><a class="dropdown-item" href="../articles/data-filtration-tutorial.html">Queries and filtration of Parquet files - full tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/distant-query.html">Distant query to Parquet file</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/leesulab/arcMS/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>UNIFI API configuration</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leesulab/arcMS/blob/main/vignettes/api-configuration.Rmd" class="external-link"><code>vignettes/api-configuration.Rmd</code></a></small>
      <div class="d-none name"><code>api-configuration.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="unifi-api-configuration">UNIFI API configuration<a class="anchor" aria-label="anchor" href="#unifi-api-configuration"></a>
</h2>
<p>The UNIFI API must be configured properly for <code>arcMS</code> to
connect correctly.</p>
<p>The installation, configuration and connection parameters all depend
on the version of UNIFI running. It is essentially the same
configuration than for using Proteowizard msconvert software for
conversion.</p>
<div class="section level3">
<h3 id="with-unifi">With UNIFI<a class="anchor" aria-label="anchor" href="#with-unifi"></a>
</h3>
<p>Details about the Waters UNIFI API installation and configuration can
be found in <a href="https://www.waters.com/webassets/cms/support/docs/715005443rc.pdf" class="external-link uri">https://www.waters.com/webassets/cms/support/docs/715005443rc.pdf</a></p>
<div class="section level4">
<h4 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h4>
<p>The UNIFI Web API is not directly installed with a UNIFI Workstation,
it must be installed from the installation DVD drive or the folder where
the installation files were copied, with the
<code>UNIFIWebAPISetup.exe</code> installer.</p>
</div>
<div class="section level4">
<h4 id="configuration">Configuration<a class="anchor" aria-label="anchor" href="#configuration"></a>
</h4>
<p>Applications to be used with the Web API must be registered in the
UNIFI Client Authorization Application. It can be accessed from the
UNIFI Administration page, by clicking “External Application Security
Configuration”. It will open a browser with a page to connect to the
Waters UNIFI Identity Server (at the URL
<code>localname:50333/identity/admin#/</code>). Users must connect
(Login button) with their credentials (typically
<code>administrator</code>/<code>administrator</code>).</p>
<p>A “new client” must be created with the following configuration:</p>
<table class="table"><tbody>
<tr class="odd">
<td>Client Name</td>
<td>resourceownerclient</td>
</tr>
<tr class="even">
<td>Client Id</td>
<td>resourceownerclient</td>
</tr>
<tr class="odd">
<td>OAuth 2.0 Flow</td>
<td>ResourceOwner</td>
</tr>
</tbody></table>
<p>Then it must be enabled and edited with the following parameters:</p>
<table class="table"><tbody>
<tr class="odd">
<td>Client Secret</td>
<td>secret</td>
</tr>
<tr class="even">
<td>Access token lifetime</td>
<td>86400</td>
</tr>
<tr class="odd">
<td>Scope</td>
<td>unifi</td>
</tr>
</tbody></table>
<p>The scope should have been created automatically but the secret value
must be added manually.</p>
</div>
<div class="section level4">
<h4 id="connection-parameters">Connection parameters<a class="anchor" aria-label="anchor" href="#connection-parameters"></a>
</h4>
<p>The URL to be used for connection and retrieval of token are the
following (if not changed during installation):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">con</span> <span class="op">=</span> <span class="fu"><a href="../reference/create_connection_params.html">create_connection_params</a></span><span class="op">(</span>apihosturl <span class="op">=</span> <span class="st">"http://localhost:50034/unifi/v1"</span>, identityurl <span class="op">=</span> <span class="st">"http://localhost:50333/identity/connect/token"</span><span class="op">)</span></span></code></pre></div>
<p>Default <code>username</code> and <code>password</code> are
<code>administrator</code> and <code>administrator</code> but you can
pass other values to the command above if necessary.</p>
</div>
</div>
<div class="section level3">
<h3 id="with-waters_connect-unifi">With waters_connect UNIFI<a class="anchor" aria-label="anchor" href="#with-waters_connect-unifi"></a>
</h3>
<p>Details about the waters_connect configuration can be found in this
video: <a href="https://videos.waters.com/detail/video/6342765707112/set-up-msconvert-with-waters_connect-3.0.0" class="external-link uri">https://videos.waters.com/detail/video/6342765707112/set-up-msconvert-with-waters_connect-3.0.0</a></p>
<div class="section level4">
<h4 id="installation-1">Installation<a class="anchor" aria-label="anchor" href="#installation-1"></a>
</h4>
<p>With waters_connect, the API is directly installed, no additional
installation step is required.</p>
</div>
<div class="section level4">
<h4 id="configuration-1">Configuration<a class="anchor" aria-label="anchor" href="#configuration-1"></a>
</h4>
<p>Applications to be used with the Web API must be registered with the
ApplicationRegistrationTool.exe app (typically installed in the
<code>C:\Program Files\Waters\waters_connect\ApplicationRegistrationTool\</code>
folder). It is a terminal application that must be executed with admin
rights (right click, Run as administrator). Users must connect with
their credentials (typically
<code>administrator</code>/<code>administrator</code>).</p>
<p>A new client application can be registered by typing R, followed by
the following configuration:</p>
<table class="table"><tbody>
<tr class="odd">
<td>Application client name</td>
<td>resourceownerclient</td>
</tr>
<tr class="even">
<td>Flow</td>
<td>resource owner password (R)</td>
</tr>
<tr class="odd">
<td>Access token type</td>
<td>Reference token (R)</td>
</tr>
<tr class="even">
<td>Secret</td>
<td>secret</td>
</tr>
</tbody></table>
<p>Client scope is automatically set as <code>webapi</code>.</p>
</div>
<div class="section level4">
<h4 id="connection-parameters-1">Connection parameters<a class="anchor" aria-label="anchor" href="#connection-parameters-1"></a>
</h4>
<p>The URL to be used for connection and retrieval of token are the
following:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">con</span> <span class="op">=</span> <span class="fu"><a href="../reference/create_connection_params.html">create_connection_params</a></span><span class="op">(</span>apihosturl <span class="op">=</span> <span class="st">"https://localhost:48505/unifi/v1"</span>, identityurl <span class="op">=</span> <span class="st">"https://localhost:48333/connect/token"</span><span class="op">)</span></span></code></pre></div>
<p>Default <code>username</code> and <code>password</code> are
<code>administrator</code> and <code>administrator</code> but you can
pass other values to the command above if necessary.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Julien Le Roux, Julien Sade.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
